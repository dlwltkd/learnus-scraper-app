ayerEvents=function(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this))},a.prototype.createQualityButton=function(){var a=this.player;this._qualityButton=new l(a);var b=a.controlBar.children().length-2,c=a.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},b);c.addClass("vjs-quality-selector"),c.menuButton_.$(".vjs-icon-placeholder").className+=" vjs-icon-hd",c.removeClass("vjs-hidden")},a.prototype.getQualityMenuItem=function(a){var b=this.player;return new n(b,a,this._qualityButton,this)},a.prototype.onAddQualityLevel=function(){for(var a=this,b=this.player,c=b.qualityLevels(),e=c.levels_||[],f=[],g=function(b){if(!f.filter(function(a){return a.item&&a.item.value===e[b].height}).length){var c=a.getQualityMenuItem.call(a,{label:e[b].height+"p",value:e[b].height});f.push(c)}},h=0;h<e.length;++h)g(h);f.sort(function(a,b){return"object"!==("undefined"==typeof a?"undefined":d(a))||"object"!==("undefined"==typeof b?"undefined":d(b))?-1:a.item.value<b.item.value?-1:a.item.value>b.item.value?1:0}),f.push(this.getQualityMenuItem.call(this,{label:b.localize("Auto"),value:"auto",selected:!0})),this._qualityButton&&(this._qualityButton.createItems=function(){return f},this._qualityButton.update())},a.prototype.setQuality=function(a){for(var b=this.player.qualityLevels(),c=0;c<b.length;++c){var d=b[c];d.enabled=d.height===a||"auto"===a}this._qualityButton.unpressButton()},a}(),r=function(a,b){a.addClass("vjs-hls-quality-selector"),a.hlsQualitySelector=new q(a,b)},s=function(b){var c=this;this.ready(function(){r(c,a.mergeOptions(o,b))})};return p("hlsQualitySelector",s),s.VERSION=c,s});
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("video.js")):"function"==typeof define&&define.amd?define('mod_vod/videojs-hotkeys', ["mod_vod/video-lazy"],b):a.hotkeys=b(a.videojs)}(this,function(a){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.20"});var b=function(b){function c(a){return 32===a.which||179===a.which}function d(a){return 37===a.which||177===a.which}function e(a){return 39===a.which||176===a.which}function f(a){return 38===a.which}function g(a){return 40===a.which}function h(a){return 77===a.which}function i(a){return 70===a.which}var j=this,k=j.el(),l=document,m={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:c,rewindKey:d,forwardKey:e,volumeUpKey:f,volumeDownKey:g,muteKey:h,fullscreenKey:i,customKeys:{}},n=1,o=2,p=3,q=4,r=5,s=6,t=7,u=a.mergeOptions||a.util.mergeOptions;b=u(m,b||{});var v=b.volumeStep,w=b.seekStep,x=b.enableMute,y=b.enableVolumeScroll,z=b.enableFullscreen,A=b.enableNumbers,B=b.enableJogStyle,C=b.alwaysCaptureHotkeys,D=b.enableModifiersForNumbers,E=b.enableInactiveFocus,F=b.skipInitialFocus;k.hasAttribute("tabIndex")||k.setAttribute("tabIndex","-1"),k.style.outline="none",!C&&j.autoplay()||F||j.one("play",function(){k.focus()}),E&&j.on("userinactive",function(){var a=function(){clearTimeout(b)},b=setTimeout(function(){j.off("useractive",a),l.activeElement.parentElement==k.querySelector(".vjs-control-bar")&&k.focus()},10);j.one("useractive",a)}),j.on("play",function(){var a=k.querySelector(".iframeblocker");a&&""===a.style.display&&(a.style.display="block",a.style.bottom="39px")});var G=function(a){var c,d,e=a.which,f=a.preventDefault,g=j.duration();if(j.controls()){var h=l.activeElement;if(C||h==k||h==k.querySelector(".vjs-tech")||h==k.querySelector(".vjs-control-bar")||h==k.querySelector(".iframeblocker"))switch(J(a,j)){case n:f(),C&&a.stopPropagation(),j.paused()?j.play():j.pause();break;case o:c=!j.paused(),f(),c&&j.pause(),d=j.currentTime()-w,j.currentTime()<=w&&(d=0),j.currentTime(d),c&&j.play();break;case p:c=!j.paused(),f(),c&&j.pause(),d=j.currentTime()+w,d>=g&&(d=c?g-.001:g),j.currentTime(d),c&&j.play();break;case r:f(),B?(d=j.currentTime()-1,j.currentTime()<=1&&(d=0),j.currentTime(d)):j.volume(j.volume()-v);break;case q:f(),B?(d=j.currentTime()+1,d>=g&&(d=g),j.currentTime(d)):j.volume(j.volume()+v);break;case s:x&&j.muted(!j.muted());break;case t:z&&(j.isFullscreen()?j.exitFullscreen():j.requestFullscreen());break;default:if((e>47&&e<59||e>95&&e<106)&&(D||!(a.metaKey||a.ctrlKey||a.altKey))&&A){var i=48;e>95&&(i=96);var m=e-i;f(),j.currentTime(j.duration()*m*.1)}for(var u in b.customKeys){var y=b.customKeys[u];y&&y.key&&y.handler&&y.key(a)&&(f(),y.handler(j,b,a))}}}},H=function(a){if(j.controls()){var b=a.relatedTarget||a.toElement||l.activeElement;b!=k&&b!=k.querySelector(".vjs-tech")&&b!=k.querySelector(".iframeblocker")||z&&(j.isFullscreen()?j.exitFullscreen():j.requestFullscreen())}},I=function(a){if(j.controls()){var b=a.relatedTarget||a.toElement||l.activeElement;if((C||b==k||b==k.querySelector(".vjs-tech")||b==k.querySelector(".iframeblocker")||b==k.querySelector(".vjs-control-bar"))&&y){a=window.event||a;var c=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));a.preventDefault(),1==c?j.volume(j.volume()+v):c==-1&&j.volume(j.volume()-v)}}},J=function(a,c){return b.playPauseKey(a,c)?n:b.rewindKey(a,c)?o:b.forwardKey(a,c)?p:b.volumeUpKey(a,c)?q:b.volumeDownKey(a,c)?r:b.muteKey(a,c)?s:b.fullscreenKey(a,c)?t:void 0};return j.on("keydown",G),j.on("dblclick",H),j.on("mousewheel",I),j.on("DOMMouseScroll",I),this},c=a.registerPlugin||a.plugin;c("hotkeys",b)});
define('mod_vod/vod', ["jquery","mod_vod/video-lazy"],function(a,b){var c={isLogin:!0,isProgress:!0,vodTagID:null,actionurl:M.cfg.wwwroot+"/mod/vod/action.php",courseid:null,cmid:null,trackid:null,attempt:null,intervalSecond:60,isProgressPeriodCheck:0,publicKey:null,beforeProgress:0,logtime:null,skipSecond:10};return c.videojsModule=function(a,c){window.videojs=b;var d=["mod_vod/videojs-hotkeys","mod_vod/videojs-contrib-quality-levels"];return a&&d.push("mod_vod/videojs-hls-quality-selector"),c&&d.push("mod_vod/You